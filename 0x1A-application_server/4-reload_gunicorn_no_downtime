#!/usr/bin/env bash
# Gracefully reloads Gunicorn workers

# Find Gunicorn master process ID
master_pid=$(pgrep -o gunicorn)

if [ -z "$master_pid" ]; then
    echo "Gunicorn is not running."
else
    echo "Reloading Gunicorn workers..."
    # Send HUP signal to the master process to gracefully reload workers
    kill -HUP "$master_pid"
    echo "Gunicorn workers reloaded."
fi
